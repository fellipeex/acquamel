<!doctype html>
<html lang="pt-br">
  <head>
        <title>Saída</title>
        <%- include('../partials/head'); %>
  </head>  
  <body>
    <header>
      <%- include('../partials/header'); %>
    </header>
    <div class="container">
        <a href="/saidaCreate" class="btn btn-outline-danger mt-4">
          <i class="bi bi-plus-circle-fill" style="font-size:30px;"></i>
        </a>
        <table class="table table-bordered table-striped text-center md-4">
            <thead>
                <tr class="bg-danger text-white">
                    <th scope="col">ID</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Valor</th>
                    <th scope="col">Data</th>
                    <th scope="col">Obs.</th>
                    <th scope="col">Ações</th>
                </tr>    
            </thead>
            <tbody>
                <% results.forEach((tb_saida)=> { %>
                    <tr>
                        <td><a href="/saidaGet/<%= tb_saida.saida_id %>" class="btn btn-sm btn-outline-secondary" title="Visualizar">  
                          <i class="bi bi-eye-fill"></i>
                        </a><br>
                          <%= tb_saida.saida_id %></td>
                        <td><%= tb_saida.saida_nome %></td>
                        <td><%= tb_saida.saida_valor %></td>
                        <td><%= tb_saida.saida_data %></td>
                        <td><%= tb_saida.saida_obs %></td>
                        <td>
                            <a href="/saidaEdit/<%= tb_saida.saida_id %>" class="btn btn-outline-secondary" title="Editar">
                              <i class="bi bi-pencil-fill"></i>
                            </a>
                            <a class="btn btn-outline-danger" onclick="confirmar(' <%= tb_saida.saida_id %>' )" title="Apagar">
                              <i class="bi bi-trash-fill"></i>
                            </a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
    <footer>
      <%- include('../partials/footer'); %>
    </footer>
    <script>
      function confirmar(id) {
        Swal.fire({
          title: 'Tem certeza que deseja apagar Saída?',
          text: "Você não poderá reverter isso.",
          icon: 'warning',
          showDenyButton: true,
          confirmButtonColor: '#ff0000',
          denyButtonColor: '#8d8d8d',
          denyButtonText: 'Cancelar',
          confirmButtonText: 'Apagar'
        }).then((result) => {
          if (result.isConfirmed) {
            window.location = '/saidaDel/' + id;
          }
        })
      }
    </script>
  </body>
</html>

